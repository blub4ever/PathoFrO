<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:histo="http://java.sun.com/jsf/composite/components/special/notificationDialog"
                xmlns:pe="http://primefaces.org/ui/extensions">

    <p:outputPanel styleClass="headerPannel">
        <h:outputLabel value="#{msg['dialog.notificationDialog.send.headline']}"/>
    </p:outputPanel>

    <p:outputPanel styleClass="bodyPannel">

        <p:dataTable var="notification" scrollable="true" scrollHeight="300"
                     style="width:96%" id="notificationTable" styleClass="defaultHistoDataTable"
                     value="#{notificationDialog.sendTab.activeNotifications}"
                     sortBy="#{notification.notificationTyp}">

            <!-- header sorting by status -->
            <p:headerRow>
                <p:column colspan="2">
                    <h:outputText
                            value="#{msg['enum.notificationType.'.concat(notification.notificationTyp)]}"/>
                </p:column>
            </p:headerRow>

            <!-- name of receiver -->
            <p:column
                    headerText="#{msg['dialog.notificationDialog.send.table.name']}"
                    style="width:auto">
                <h:outputText value="#{notification.notificationBearer.reportIntent.person.getFullName()}"/>
            </p:column>

            <!-- address -->
            <p:column
                    headerText="#{msg['dialog.notificationDialog.send.table.address']}"
                    style="width:auto">
                <h:outputText value="#{notification.notificationBearer.contactAddress}"/>
            </p:column>
        </p:dataTable>

        <!-- no notification -->
        <h:panelGrid columns="1" styleClass="defaultHistoTable">
            <h:outputLabel value="#{msg['dialog.notificationDialog.send.noNotification']}"
                           styleClass="icon-red bigFont"
                           rendered="#{notificationDialog.sendTab.noNotifications}"/>
        </h:panelGrid>

    </p:outputPanel>


    <div class="buttonContainer">
        <h:panelGrid columns="2">
            <h:panelGrid columns="1" styleClass="left">
            </h:panelGrid>

            <h:panelGrid columns="2" styleClass="right" id="buttonContainer">
                <!-- performe -->
                <p:commandButton value="#{msg['dialog.notificationDialog.send.button.perform.text']}"
                                 icon="fa fa-volume-up"
                                 actionListener="#{notificationDialog.sendTab.performNotifications()}"
                                 rendered="#{!notificationDialog.sendTab.noNotifications}"
                                 title="#{msg['dialog.notificationDialog.send.button.perform.info']}"/>

                <!-- archive -->
                <p:commandButton value="#{msg['dialog.notificationDialog.send.button.archive.text']}"
                                 icon="fa fa-archive"
                                 rendered="#{notificationDialog.sendTab.noNotifications}"
                                 title="#{msg['dialog.notificationDialog.send.button.archive.info']}"/>

                <!-- close -->
                <p:commandButton value="#{msg['general.close']}"
                                 icon="fa fa-times-circle" process="@form"
                                 actionListener="#{notificationDialog.hideDialog()}"/>
            </h:panelGrid>
        </h:panelGrid>
    </div>
</ui:composition>
