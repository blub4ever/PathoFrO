<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:b="http://bootsfaces.net/ui">

	<p:outputPanel styleClass="headerPannel">
		<h:outputLabel value="#{msg['dialog.council.request']}" />
	</p:outputPanel>

	<p:outputPanel styleClass="bodyPannel" style="padding:10px;">

		<h:panelGrid styleClass="defaultHistoTable" columns="2">
			<!-- sample send -->
			<h:outputLabel value="#{msg['dialog.council.sampleShipped']}"></h:outputLabel>
			<h:panelGrid columns="2" styleClass="newTableContainer">
				<p:selectBooleanCheckbox
					disabled="#{!dialog.councilDialog.selectedCouncil.isCouncilState('EditState') or !dialog.councilDialog.editable}"
					title="#{msg['dialog.council.sampleShipped.text']}"
					value="#{dialog.councilDialog.selectedCouncil.sampleShipped}">
					<p:ajax event="change" update="@form" process="@form"
						listener="#{dialog.councilDialog.saveCouncilData()}" />
				</p:selectBooleanCheckbox>

				<p:selectOneMenu id="attachments"
					style="width:450px; margin-left: 10px;"
					value="#{dialog.councilDialog.selectedCouncil.sampleShippedCommentary}"
					disabled="#{!dialog.councilDialog.selectedCouncil.isCouncilState('EditState') or !dialog.councilDialog.selectedCouncil.sampleShipped or !dialog.councilDialog.editable}"
					editable="true">
					<f:selectItems value="#{dialog.councilDialog.attachmentList}"
						itemValue="#{attachment.value}" itemLabel="#{attachment.value}"
						var="attachment" />
					<p:ajax event="change"
						listener="#{dialog.councilDialog.saveCouncilData()}" />
					<p:ajax event="keyup" delay="1000"
						listener="#{dialog.councilDialog.saveCouncilData()}" />
				</p:selectOneMenu>
			</h:panelGrid>

			<!-- sample send date -->
			<h:outputLabel value=""
				rendered="#{dialog.councilDialog.selectedCouncil.sampleShipped}" />
			<h:panelGrid columns="2" styleClass="newTableContainer"
				rendered="#{dialog.councilDialog.selectedCouncil.sampleShipped}">
				<h:outputLabel value="#{msg['dialog.council.sampleShipped.date']}"></h:outputLabel>

				<p:calendar pattern="dd.MM.yyyy" mask="true"
					style="margin-left:10px;"
					disabled="#{!dialog.councilDialog.selectedCouncil.isCouncilState('EditState') or !dialog.councilDialog.editable}"
					value="#{dialog.councilDialog.selectedCouncil.sampleShippedDate}">

					<p:ajax event="dateSelect"
						listener="#{dialog.councilDialog.saveCouncilData()}" />
					<p:ajax event="change"
						listener="#{dialog.councilDialog.saveCouncilData()}" />
				</p:calendar>
			</h:panelGrid>

			<!-- Sample returned -->
			<h:outputLabel value="#{msg['dialog.council.sampleReturned']}"
				rendered="#{dialog.councilDialog.selectedCouncil.sampleShipped}" />
			<h:panelGrid columns="2" styleClass="newTableContainer"
				rendered="#{dialog.councilDialog.selectedCouncil.sampleShipped}">
				<p:selectBooleanCheckbox
					disabled="#{!dialog.councilDialog.selectedCouncil.isCouncilState('EditState')} or !dialog.councilDialog.editable"
					title="#{msg['dialog.council.sampleReturned.text']}"
					value="#{dialog.councilDialog.selectedCouncil.sampleReturned}">
					<p:ajax event="change" update="@form" process="@form"
						listener="#{dialog.councilDialog.saveCouncilData()}" />
				</p:selectBooleanCheckbox>
				<p:inputText style="width:470px; margin-left: 10px;"
					disabled="#{!dialog.councilDialog.selectedCouncil.isCouncilState('EditState') or !dialog.councilDialog.selectedCouncil.sampleReturned} or !dialog.councilDialog.editable"
					value="#{dialog.councilDialog.selectedCouncil.sampleReturnedCommentary}">
					<p:ajax event="keyup" delay="1000"
						listener="#{dialog.councilDialog.saveCouncilData()}" />
				</p:inputText>
			</h:panelGrid>

			<!-- sample returned date -->
			<h:outputLabel value=""
				rendered="#{dialog.councilDialog.selectedCouncil.sampleShipped}" />
			<h:panelGrid columns="2" styleClass="newTableContainer"
				rendered="#{dialog.councilDialog.selectedCouncil.sampleShipped}">
				<h:outputLabel value="#{msg['dialog.council.sampleReturned.date']}"></h:outputLabel>

				<p:calendar pattern="dd.MM.yyyy" mask="true"
					style="margin-left:10px;"
					disabled="#{!dialog.councilDialog.selectedCouncil.isCouncilState('EditState') or !dialog.councilDialog.selectedCouncil.sampleReturned} or !dialog.councilDialog.editable"
					value="#{dialog.councilDialog.selectedCouncil.sampleReturnedDate}">

					<p:ajax event="dateSelect"
						listener="#{dialog.councilDialog.saveCouncilData()}" />
					<p:ajax event="change"
						listener="#{dialog.councilDialog.saveCouncilData()}" />
				</p:calendar>
			</h:panelGrid>
		</h:panelGrid>
	</p:outputPanel>
</ui:composition>
